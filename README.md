# Домашнее задание к занятию Magics, DRY, SOLID #
## Задача Магазин #
### Лирическое отступление. #
Когда я прочитал задание, то подумал, что писать программу-магазин без использования базы данных (например, реляционных, с использованием SQL) - это просто подстава. Тем более я последние 20 лет работаю в сопровождении информационныых систем (ЕСУДАП, ЕГАИС {Атлас, ЕПАМ, УТМ}), в которых без БД ну никуда вообще. 
А тут ещё и интерфейс консольный :рукалицо:
Поэтому я начал с прокрастинации, потом боролся с чувством, что я занимаюсь фигнёй, но потом применил приём "сделаю хоть что-то - авось примут". Ну и конечно же ушло у меня на выполнение ДЗ не 3 часа, а 4 рабочих дня.
Теперь кратко, что я тут понаписал.
У меня есть справочники производителей и товаров, а также оперативные остатки товара на складе. Меню плоское, одноуровневое.
Добавление справочников и начальных оперативных остатков продукции на складе запихнул в метод initShop(), раздувать консольное меню ещё и под эти задачи не стал.
Удаление в справочниках не предусмотрено (в реальных информационных системах это обычно так же).
Общая логика работы программы такая - запускаем, знакомимся со справочниками и остатками продукции, балуемся поиском.
Потом создаём Заказы, пытаемся провести заказы, смотрим статусы заказов. Если на оперативных остатках нет достаточного количества товара, заказ не проведётся и сменит статус на Отказано. Если заказ проводится - то на оперативных остатках товара становится меньше.

## Теперь про Magics, DRY, SOLID #
### Magics - магические числа. 
Вместо них используются константы в интерфейсе ConsOutput и в классе Main. А ещё перечисление OrderStatus хранит возможные статусы заказов.
В интерфейсе ConsOutput константы определяют вид и длину "линии отреза", в классе Main - количество пунктов меню. 
https://github.com/Zlyden79/SolidShop/blob/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/Interfaces/ConsOutput.java#L4-L5
https://github.com/Zlyden79/SolidShop/blob/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/Main.java#L11-L12

### DRY - не повторяться. #
Я прикинул, что при консольном вводе мне нужно контролировать вводимые числа, а при выводе на консоль - иногда вставлять "линии отреза".
Поэтому я определил себе 2 интерфейса и написал 2 класса, их реализующие.
https://github.com/Zlyden79/SolidShop/tree/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/Interfaces - интерфейсы
https://github.com/Zlyden79/SolidShop/tree/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/Implementations - реализации

### SOLID #
#### S - Single-Responsibility principle - Принцип единственной ответственности
Классы в каталоге entity - у каждого своя обязанность хранить объекты:
* Company - компания, ResidentCompany - отечественная компания
* Goods - товар
* OrderPosition - позиция заказа
* Order - заказ
* OrderStatus - перечисление статусов заказов
https://github.com/Zlyden79/SolidShop/tree/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/entity

Другие классы реализую хранение сущностей и некоторые манипуляции с ними:
* CompanyCatalog - справочник компаний
* GoodsCatalog - справочник товаров
* Warehouse - оперативные остатки товаров на складе
* OrderCatalog - заказы
https://github.com/Zlyden79/SolidShop/tree/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop

#### O - Open-Closed principle - Принцип открытости / закрытости #
Класс ResidentCompany расширяет класс Company, позволяя для отечественных компаний хранить данные об специфичных для России аттрибутах - ИНН, КПП и фактическом адресе.
https://github.com/Zlyden79/SolidShop/blob/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/entity/ResidentCompany.java#L3

#### L - Liskov substitution principle - Принцип замены Барбары Лисков #
И снова парочка классов Company и ResidentCompany. Тут наследование выполнено в соостветсвии с принципом, ResidentCompany может играть за суперкласс Company.
https://github.com/Zlyden79/SolidShop/blob/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/entity/ResidentCompany.java#L3

#### I - Interface segregation principle - Принцип сегрегации (разделения) интерфейса #
Вот его мне особо применить не удалось / не хотелось. 
Классы CompanyCatalog, GoodsCatalog, OrderCatalog имеют схожую функциональность и можно было сделать абстрактный класс Catalog и/или кучу функциональных интерфейсов на каждую операцию (добавление, получение по Id, вывод на консоль)- но:
* мне было лень (см. Лирическое отступление)
* это всего лишь домашка, не курсач и не диплом, чтобы упахиваться ещё и тут
* нет пределов совершенству, а время нерезиновое

#### D - Dependency inversion principle - Принцип инверсии зависимостей #
Снова интефейсы ConsOutput и ConsInput позволяют абстрагироваться от конкретных реализаций ConsOutputImpl и ConsInputImpl.
"Клиентский код" (класс Main) использует переменные типа интерфейсов, а не классов реализации, а значит зависит об абстракций, а не имплементаций.
https://github.com/Zlyden79/SolidShop/blob/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/Main.java#L45
https://github.com/Zlyden79/SolidShop/blob/73b2623cf7e57253736c85375ac616c26001024c/src/ru/netology/zlyden/solidshop/Main.java#L67





 